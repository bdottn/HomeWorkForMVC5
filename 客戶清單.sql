CREATE VIEW [dbo].[客戶清單]
	AS
		SELECT
			[客戶資料].[Id],
			[客戶資料].[客戶名稱],
			COUNT([客戶聯絡人].[客戶Id]) AS [聯絡人數量],
			COUNT([客戶銀行資訊].[客戶Id]) AS [銀行帳戶數量]
		FROM
			[客戶資料]
		LEFT JOIN
			[客戶聯絡人]
		ON
			[客戶資料].[Id] = [客戶聯絡人].[客戶Id] AND [客戶聯絡人].[是否已刪除] = 0
		LEFT JOIN
			[客戶銀行資訊]
		ON
			[客戶資料].[Id] = [客戶銀行資訊].[客戶Id] AND [客戶銀行資訊].[是否已刪除] = 0
		WHERE
			[客戶資料].[是否已刪除] = 0
		GROUP BY
			[客戶資料].[Id],
			[客戶資料].[客戶名稱]